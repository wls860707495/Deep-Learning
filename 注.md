# 注
## 损失函数
衡量的是在单个样本上的表现
## 成本函数
衡量的是在整体样本上的表现，即将所有训练样本损失函数和相加并平均。（被定义为平均值）
## 语义分割
### CNN
实现的是图像级的识别，即从图像到结果。--->因为在最后三层是全连接的，输出的是一维的向量，丢失了卷积下的二维向量信息。   
即输入一张图片，输出是图片是什么种类的概率。  
### FCN
实现的是像素级别的识别，即对输入图像的每一个像素都进行对应的判断标注，表明这个像素最可能是属于一个什么物体 / 类别。--->其在最后三层改用1X1的卷积来保证不会丢失二维信息。   
在进行卷积时，对于卷积池化完的深层特征来说，其感受野较大时，观察到的边缘信息便会减少；对于卷积池化完的浅特征来说其感受野较小时，观察到的边缘信息会增加。那么我们在对特征图进行上采样时，越是深层特征上采样完的信息越会减少，所以一般会将浅层反卷积信息与深层反卷积信息进行辅助叠加，更好的优化分割结果的精度。   
但FCN还是无法避免有很多问题，比如，精度问题，对细节不敏感，以及像素与像素之间的关系，忽略空间的一致性等问题。   
解决对细节不敏感：“Dilated Convolutions”（空洞卷积）   
解决像素与像素之间的逻辑关系： “条件随机场”（ Conditional Random Field，简称 CRF）的技术作为输出结果的优化后处理手段。其实类似技术种类较多，比如还有马尔科夫随机场 (MRF) 和高斯条件随机场 (G-CRF) 用的也比较多，但原理都较为类似。像素之间联系加入其中，剔除掉明显不符合事实的判断   
```
eg:
“天空”和 “鸟” 这样的像素在物理空间是相邻的概率，应该要比 “天空” 和 “鱼” 这样像素相邻的概率大，那么天空的边缘就更应该判断
为鸟而不是鱼（从概率的角度）。
```
关键特点：  
特征是由编码器中的不同阶段合并而成的，它们在语义信息的粗糙程度上有所不同。  
低分辨率语义特征图的上采样使用经双线性插值滤波器初始化的反卷积操作完成。  
从 VGG16、Alexnet 等分类器网络进行知识迁移来实现语义细分。  
## 一般分割架构
一般的语义分割架构可以被认为是一个编码器-解码器网络。编码器通常是一个预训练的分类网络，像 VGG、ResNet，然后是一个解码器网络。这些架构不同的地方主要在于解码器网络。解码器的任务是将编码器学习到的可判别特征（较低分辨率）从语义上投影到像素空间（较高分辨率），以获得密集分类。
## SegNet
SegNet 的新颖之处在于解码器对其较低分辨率的输入特征图进行上采样的方式。具体地说，解码器使用了在相应编码器的最大池化步骤中计算的池化索引来执行非线性上采样。这种方法消除了学习上采样的需要。经上采样后的特征图是稀疏的，因此随后使用可训练的卷积核进行卷积操作，生成密集的特征图。
### 关键特点
SegNet 在解码器中使用反池化对特征图进行上采样，并在分割中保持高频细节的完整性。   
编码器不使用全连接层（和 FCN 一样进行卷积），因此是拥有较少参数的轻量级网络。   

参考于：  
https://www.cnblogs.com/jerrybaby/p/9293419.html   
https://blog.csdn.net/qq_20084101/article/details/80432960
